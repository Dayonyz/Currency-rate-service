[mysqld]
# Общие настройки
user            = mysql
pid-file        = /var/run/mysqld/mysqld.pid
socket          = /var/run/mysqld/mysqld.sock
datadir         = /var/lib/mysql
symbolic-links  = 0
skip-name-resolve = 1
max_connections = 100

# InnoDB
innodb_buffer_pool_size         = 3G
innodb_buffer_pool_instances    = 3
innodb_log_file_size            = 256M
innodb_flush_method             = O_DIRECT
innodb_flush_log_at_trx_commit  = 2
innodb_file_per_table           = 1

# Кэш и сортировка
query_cache_type      = 0
query_cache_size      = 0
tmp_table_size        = 64M
max_heap_table_size   = 64M
sort_buffer_size      = 4M
join_buffer_size      = 4M
read_buffer_size      = 1M
read_rnd_buffer_size  = 4M

# Логи
slow_query_log        = 1
slow_query_log_file   = /var/log/mysql/slow.log
long_query_time       = 1

# Безопасность
sql_mode              = STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION

performance_schema = OFF
